import{r as i,u as j,j as e,L as v}from"./index-COu_k19s.js";import{a as g}from"./index-xsH4HHeE.js";const N=async s=>{try{return(await g.post("http://localhost:3000/auth/Register",s)).data}catch(l){return console.error("Error registering user:",l),{success:!1,message:"حدث خطأ أثناء إنشاء الحساب"}}};function S(){const[s,l]=i.useState({username:"",email:"",password:"",confirm_password:""});j();const[p,d]=i.useState(!1),[f,o]=i.useState(""),[x,u]=i.useState(!1),[a,c]=i.useState({}),h=()=>{const r={};return s.username.trim()||(r.username="الاسم مطلوب"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(r.email="البريد الإلكتروني غير صالح"):r.email="البريد الإلكتروني مطلوب",s.password?s.password.length<6&&(r.password="كلمة المرور يجب أن تكون 6 أحرف على الأقل"):r.password="كلمة المرور مطلوبة",s.confirm_password?s.password!==s.confirm_password&&(r.confirm_password="كلمات المرور غير متطابقة"):r.confirm_password="تأكيد كلمة المرور مطلوب",c(r),Object.keys(r).length===0},n=r=>{const{name:t,value:w}=r.target;l(m=>({...m,[t]:w})),a[t]&&c(m=>({...m,[t]:void 0}))},b=async r=>{if(r.preventDefault(),!h())return;d(!0),o("");const t=await N(s);t.success?(u(t.success),d(!1),l({username:"",email:"",password:"",confirm_password:""}),c({}),o(t.message)):(u(t.success),o(t.message),d(!1))};return e.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"linear-gradient(135deg, #00b4db 0%, #0083b0 100%)",padding:"20px"},children:e.jsx("div",{className:"card shadow-lg",style:{maxWidth:"500px",width:"100%"},children:e.jsxs("div",{className:"card-body p-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"h3 fw-bold text-dark mb-2",children:"إنشاء حساب جديد"}),e.jsx("p",{className:"text-muted",children:"انضم إلينا اليوم"})]}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"name",className:"form-label fw-semibold",children:"الاسم الكامل"}),e.jsx("input",{type:"text",id:"username",name:"username",value:s.username,onChange:n,className:`form-control ${a.username?"is-invalid":""}`,placeholder:"أدخل اسمك الكامل",dir:"rtl"}),a.username&&e.jsx("div",{className:"invalid-feedback text-end",children:a.username})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"email",className:"form-label fw-semibold",children:"البريد الإلكتروني"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:n,className:`form-control ${a.email?"is-invalid":""}`,placeholder:"أدخل بريدك الإلكتروني",dir:"rtl"}),a.email&&e.jsx("div",{className:"invalid-feedback text-end",children:a.email})]}),e.jsxs("div",{className:"mb-3 text-end",children:[e.jsx("label",{htmlFor:"password",className:"form-label fw-semibold",children:"كلمة المرور"}),e.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:n,className:`form-control ${a.password?"is-invalid":""}`,placeholder:"أدخل كلمة المرور",dir:"rtl"}),a.password&&e.jsx("div",{className:"invalid-feedback text-end",children:a.password})]}),e.jsxs("div",{className:"mb-4 text-end",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"form-label fw-semibold",children:"تأكيد كلمة المرور"}),e.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:s.confirm_password,onChange:n,className:`form-control ${a.confirm_password?"is-invalid":""}`,placeholder:"أدخل كلمة المرور مرة أخرى",dir:"rtl"}),a.confirm_password&&e.jsx("div",{className:"invalid-feedback text-end",children:a.confirm_password})]}),f&&e.jsx("div",{className:`alert ${x?"alert-success":"alert-danger"} text-center mb-4`,children:f}),e.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary w-100 py-2 fw-semibold",style:{backgroundColor:"#00b4db",borderColor:"#00b4db"},children:p?"جاري إنشاء الحساب...":"إنشاء حساب"})]}),e.jsx("div",{className:"mt-4 pt-3 border-top text-center",children:e.jsxs("p",{className:"text-muted mb-0",children:["لديك حساب بالفعل؟ ",e.jsx(v,{to:"/login",className:"text-decoration-none fw-semibold",style:{color:"#00b4db"},children:"تسجيل الدخول"})]})})]})})})}export{S as default};
